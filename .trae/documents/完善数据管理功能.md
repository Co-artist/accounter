# 完善数据管理功能（支持JSON和CSV导出）

## 问题分析

当前数据管理功能仅显示提示信息，未实际实现。用户询问JSON文件是否适用于手机端，考虑到手机用户可能更习惯使用CSV格式（可直接用Excel或Google Sheets打开），需要同时支持两种导出格式。

## 修复计划

### 1. 完善导出数据功能
- **支持JSON和CSV两种格式**：让用户可以选择导出格式
- **JSON格式**：完整保存所有数据结构，适合备份和迁移
- **CSV格式**：适合在手机上用表格应用打开查看
- **实现方式**：
  - 创建导出格式选择弹窗
  - 实现JSON导出逻辑
  - 实现CSV导出逻辑
  - 使用Blob和URL.createObjectURL创建下载链接
  - 实现自动下载功能

### 2. 完善备份数据功能
- 将当前数据备份到localStorage的备份键中
- 记录备份时间
- 显示备份成功提示

### 3. 完善清除数据功能
- 实现真正的清除数据功能
- 清除交易记录、分类和预算数据
- 增强确认对话框，添加二次确认
- 清除后自动重置应用状态

## 预期结果

- 用户点击导出数据时，可选择JSON或CSV格式
- JSON格式：完整下载所有记账数据
- CSV格式：下载适合表格应用打开的数据
- 用户点击备份数据时，将当前数据备份到localStorage
- 用户点击清除数据时，彻底清除所有记账数据
- 所有功能都有清晰的操作反馈

## 实现步骤

1. 修改PrivacyPage.vue中的handleDataAction函数
2. 实现导出格式选择弹窗
3. 实现JSON导出逻辑
4. 实现CSV导出逻辑
5. 实现备份数据逻辑
6. 实现清除数据逻辑
7. 添加操作反馈提示

这样可以确保数据管理功能在手机端也能提供良好的用户体验，满足不同用户的需求。